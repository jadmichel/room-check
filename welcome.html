<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Welcome - La Veranda Hotel</title>
    <style>
        body { font-family: 'Segoe UI', sans-serif; padding: 15px; background-color: #f4f7f9; color: #333; }
        .container { background: white; padding: 25px; border-radius: 15px; box-shadow: 0 4px 15px rgba(0,0,0,0.1); max-width: 500px; margin: auto; }
        .logo-container { text-align: center; margin-bottom: 10px; }
        .logo-container img { max-width: 120px; height: auto; }
        .website-link { text-align: center; margin-bottom: 20px; font-size: 13px; }
        .website-link a { color: #1a73e8; text-decoration: none; }
        h2 { color: #1a73e8; text-align: center; margin-bottom: 20px; font-size: 22px; }
        
        .info-card { 
            display: flex; 
            align-items: flex-start; 
            background: #fdfdfd; 
            border: 1px solid #e0e0e0; 
            padding: 12px; 
            border-radius: 8px; 
            margin-bottom: 10px; 
            transition: 0.3s; 
            cursor: pointer; 
        }
        .info-card:hover { background: #f8faff; }
        .info-card.error { border: 2px solid #ff4d4d; background: #fff5f5; }
        
        .info-card input[type="checkbox"] { 
            width: 22px; 
            height: 22px; 
            margin-right: 12px; 
            margin-top: 3px; 
            cursor: pointer; 
            flex-shrink: 0;
        }
        
        .info-content { flex: 1; }
        .info-title { font-weight: bold; color: #333; font-size: 13px; text-transform: uppercase; display: block; }
        .info-text { font-size: 15px; margin: 2px 0 0 0; color: #333; line-height: 1.4; }

        .form-group { margin-top: 10px; }
        label.input-label { display: block; font-weight: bold; margin-bottom: 5px; font-size: 14px; color: #555; }
        
        input, select { 
            width: 100%; 
            padding: 12px; 
            margin-bottom: 15px; 
            border: 1px solid #ccc; 
            border-radius: 8px; 
            font-size: 15px; 
            box-sizing: border-box;
            background-color: #f2f2f2; 
            color: #333;
            display: block;
            transition: all 0.3s;
        }

        input.error, select.error { border: 2px solid #ff4d4d; background-color: #fff5f5; }
        
        #lateNotice { background: #fff3cd; color: #856404; padding: 12px; border-radius: 8px; font-size: 14px; margin-bottom: 15px; border: 1px solid #ffeeba; display: none; }
        .taxi-box { background: #f0f4f8; border: 1px solid #d1d9e0; padding: 15px; border-radius: 8px; margin-bottom: 15px; }
        .taxi-box.error { border: 2px solid #ff4d4d; }
        .taxi-options { display: flex; gap: 20px; margin-bottom: 10px; align-items: center; }
        .edit-note { font-size: 12px; color: #666; font-style: italic; margin-bottom: 10px; display: block; }
        
        .map-section { background: #e8f0fe; padding: 15px; border-radius: 8px; text-align: center; margin-bottom: 15px; border: 1px solid #c2d7fa; }
        .map-btn { background-color: #4285F4; color: white; border: none; padding: 12px 15px; border-radius: 5px; font-weight: bold; cursor: pointer; text-decoration: none; display: inline-block; margin-top: 5px; }
        
        button#sendBtn { background-color: #25D366; color: white; border: none; padding: 18px; width: 100%; border-radius: 10px; font-size: 18px; font-weight: bold; cursor: pointer; margin-top: 10px; }
    </style>
</head>
<body>

<div class="container">
    <div class="logo-container">
        <img src="/room-check/La Veranda LOGO.png" alt="La Veranda Hotel Logo">
    </div>
    <div class="website-link">
        <a href="https://www.laverandadelarnacahotel.com" target="_blank">www.laverandadelarnacahotel.com</a>
    </div>
    
    <h2>Guest Welcome</h2>

    <div class="form-group">
        <label class="input-label">Full Name:</label>
        <input type="text" id="guestName" placeholder="Enter full name" oninput="this.classList.remove('error')">

        <label class="input-label">Room Number (Optional):</label>
        <input type="text" id="roomNum" placeholder="e.g. 110">

        <label class="info-card">
            <input type="checkbox" class="confirm-check" onchange="this.parentElement.classList.remove('error')">
            <div class="info-content">
                <span class="info-title">Access Code</span>
                <p class="info-text">Main Door: C173Z</p>
            </div>
        </label>

        <label class="info-card">
            <input type="checkbox" class="confirm-check" onchange="this.parentElement.classList.remove('error')">
            <div class="info-content">
                <span class="info-title">Reception Hours</span>
                <p class="info-text">08:00 till Midnight</p>
            </div>
        </label>

        <label class="info-card">
            <input type="checkbox" class="confirm-check" onchange="this.parentElement.classList.remove('error')">
            <div class="info-content">
                <span class="info-title">Breakfast Time</span>
                <p class="info-text">08:00 to 12:00</p>
            </div>
        </label>

        <label class="info-card">
            <input type="checkbox" class="confirm-check" onchange="this.parentElement.classList.remove('error')">
            <div class="info-content">
                <span class="info-title">Dinner Time</span>
                <p class="info-text">Kitchen open:<br>18:00 till 22:00</p>
            </div>
        </label>

        <label class="info-card">
            <input type="checkbox" class="confirm-check" onchange="this.parentElement.classList.remove('error')">
            <div class="info-content">
                <span class="info-title">Check-out Time</span>
                <p class="info-text">Before 12:00 PM</p>
            </div>
        </label>

        <label class="info-card">
            <input type="checkbox" class="confirm-check" onchange="this.parentElement.classList.remove('error')">
            <div class="info-content">
                <span class="info-title">Internal Dial</span>
                <p class="info-text">Reception: 00<br>Restaurant: 01</p>
            </div>
        </label>

        <label class="input-label">Estimated Check-out Time:</label>
        <select id="estCheckout" onchange="checkLateTime(this.value); this.classList.remove('error');">
            <option value="" disabled selected>Select time (Required)</option>
        </select>

        <div id="lateNotice">
            Note: Standard check-out is by 12:00 PM. Late check-outs may incur extra charges.
        </div>

        <div class="taxi-box" id="taxiBox">
            <label class="input-label">Need a Taxi?</label>
            <div class="taxi-options">
                <label><input type="radio" name="taxiChoice" value="yes" onclick="toggleTaxi(true)"> Yes</label>
                <label><input type="radio" name="taxiChoice" value="no" onclick="toggleTaxi(false)"> No</label>
            </div>
            
            <div id="taxiFields" style="display:none; margin-top:10px; border-top: 1px solid #ccc; padding-top: 10px;">
                <span class="edit-note">You can change the destination below if needed:</span>
                
                <label class="input-label">From:</label>
                <input type="text" id="taxiFrom" value="La Veranda Hotel" oninput="this.classList.remove('error')">
                
                <label class="input-label">To:</label>
                <input type="text" id="taxiTo" value="Larnaca Airport" oninput="this.classList.remove('error')">

                <label class="input-label">Date:</label>
                <input type="date" id="taxiDate" oninput="this.classList.remove('error')">
                <label class="input-label">Time:</label>
                <input type="time" id="taxiTime" oninput="this.classList.remove('error')">
                <label class="input-label">Number of Persons:</label>
                <input type="number" id="taxiPax" placeholder="Number of persons" oninput="this.classList.remove('error')">
                <label class="input-label">Number of Bags:</label>
                <input type="number" id="taxiBags" placeholder="Number of bags" oninput="this.classList.remove('error')">
                <label class="input-label">Your Phone Number:</label>
                <input type="tel" id="taxiPhone" placeholder="+357 ..." oninput="this.classList.remove('error')">
            </div>
        </div>

        <div class="map-section">
            <label style="color:#1a73e8;" class="input-label">Hotel Location</label>
            <p style="font-size:14px; margin:5px 0;">Michael Aggelou 3, Larnaka</p>
            <a href="https://www.google.com/maps?q=34.892751,33.635221" target="_blank" class="map-btn">Open Google Maps</a>
        </div>

        <button id="sendBtn" onclick="send()">CONFIRM & SEND</button>
    </div>
</div>

<script>
    const select = document.getElementById('estCheckout');
    for(let i=0; i<24; i++) {
        let hour = i < 10 ? '0'+i : i;
        let opt = hour + ":00";
        let el = document.createElement("option");
        el.textContent = opt; el.value = opt;
        select.appendChild(el);
    }

    function checkLateTime(val) {
        if (!val) return;
        const hour = parseInt(val.split(":")[0]);
        document.getElementById('lateNotice').style.display = (hour > 12 || hour < 7) ? 'block' : 'none';
    }

    function toggleTaxi(show) {
        document.getElementById('taxiFields').style.display = show ? 'block' : 'none';
        document.getElementById('taxiBox').classList.remove('error');
    }

    function send() {
        let isValid = true;
        
        const guestName = document.getElementById('guestName');
        if (!guestName.value.trim()) {
            guestName.classList.add('error');
            isValid = false;
        }

        const checks = document.querySelectorAll('.confirm-check');
        checks.forEach(c => {
            if (!c.checked) {
                c.parentElement.classList.add('error');
                isValid = false;
            }
        });

        const checkoutSelect = document.getElementById('estCheckout');
        if (!checkoutSelect.value) {
            checkoutSelect.classList.add('error');
            isValid = false;
        }

        const taxiChoice = document.querySelector('input[name="taxiChoice"]:checked');
        if (!taxiChoice) {
            document.getElementById('taxiBox').classList.add('error');
            isValid = false;
        } else if (taxiChoice.value === "yes") {
            const tFields = ['taxiFrom', 'taxiTo', 'taxiDate', 'taxiTime', 'taxiPax', 'taxiBags', 'taxiPhone'];
            tFields.forEach(id => {
                const el = document.getElementById(id);
                if (!el.value.trim()) {
                    el.classList.add('error');
                    isValid = false;
                }
            });
        }

        if (!isValid) {
            alert("Please fill in all highlighted fields and confirm the hotel information before sending.");
            return;
        }

        const name = guestName.value.trim();
        const room = document.getElementById('roomNum').value.trim() || "To be assigned";
        const checkout = checkoutSelect.value;

        let msg = "LA VERANDA HOTEL\n";
        msg += "www.laverandadelarnacahotel.com\n";
        msg += "---------------------------------\n";
        msg += "GUEST: " + name + "\n";
        msg += "ROOM: " + room + "\n";
        msg += "EST. CHECKOUT: " + checkout + "\n";
        
        if (parseInt(checkout.split(":")[0]) > 12 || parseInt(checkout.split(":")[0]) < 7) {
            msg += "LATE CHECK-OUT REQUESTED: we will send you the price if late check-out is possible.\n";
        }
        
        msg += "\nHOTEL INFORMATION:\n";
        msg += "- Main Door Code: C173Z\n";
        msg += "- Reception: 08:00 till Midnight\n";
        msg += "- Breakfast: 08:00 to 12:00\n";
        msg += "- Dinner Kitchen:\n  18:00 till 22:00\n";
        msg += "- Standard Checkout: 12:00\n";
        msg += "- Reception Dial: 00\n";
        msg += "- Restaurant Dial: 01\n";
        
        msg += "\nGOOGLE MAPS LOCATION:\n";
        msg += "https://www.google.com/maps?q=34.892751,33.635221";

        if(taxiChoice.value === "yes") {
            msg += "\nTAXI REQUESTED:\n";
            msg += "- From: " + document.getElementById('taxiFrom').value + "\n";
            msg += "- To: " + document.getElementById('taxiTo').value + "\n";
            msg += "- Date: " + document.getElementById('taxiDate').value + "\n";
            msg += "- Time: " + document.getElementById('taxiTime').value + "\n";
            msg += "- Pax: " + document.getElementById('taxiPax').value + "\n";
            msg += "- Bags: " + document.getElementById('taxiBags').value + "\n";
            msg += "- Contact: " + document.getElementById('taxiPhone').value + "\n";
            msg += "We will send you the price for approval soon.\n";
        }
        
        msg += "\n---------------------------------\n";
        msg += "Thank you for choosing La Veranda Hotel!";

        window.location.href = "https://wa.me/35796276769?text=" + encodeURIComponent(msg);
    }
</script>
</body>
</html>
